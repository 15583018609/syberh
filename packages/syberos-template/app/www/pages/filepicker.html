<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title>scan</title>
    <link rel="stylesheet" href="../common/mui/mui.css" />
    <link rel="stylesheet" href="../common/common.css" />
    <style>
      .pt0 {
        margin-top: 1em;
      }
    </style>
  </head>

  <body>
    <div class="mui-content pt0">
      <ul class="mui-table-view ">
        <li class="mui-table-view-cell">
          <a class="mui-navigate-right api-class" onclick="show()">open</a>
        </li>
      </ul>
    </div>

    <div class="mui-card-content">
      <ul class="mui-table-view">
        <li class="mui-table-view-cell">
          获取到的文件路径:
          <div id="pathDiv" style="word-break: break-all"></div>
        </li>
      </ul>
    </div>
    <br />
    <script type="text/javascript" src="../common/mui/mui.js"></script>
    <script type="text/javascript" src="../lib/syber.min.js"></script>
    <script type="text/javascript" src="../lib/vconsole.min.js"></script>
    <script type="text/javascript" src="../common/common.js"></script>

    <script>
      var vConsole = new VConsole()

      function show() {
        syber.filepicker.open({
          title: '文件选择',
          showBack: true,
          success: function(result) {
            console.log('filepicker open success', JSON.stringify(result))
            if (result.confirm) {
              console.log('用户点击确定， 文件路径为=》', result.path)
              document.getElementById('pathDiv').innerText = result.path
            } else if (result.cancel) {
              console.log('用户点击取消')
            }
          },
          fail: function(error) {
            console.log('filepicker open fail', error)
          }
        })
      }
    </script>
  </body>
</html>
