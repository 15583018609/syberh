#!/usr/bin/env node
const chalk = require('chalk')
const doctor = require('../dist/doctor').default

for (const validator of doctor.validators) {
  const result = validator()
  if (result.lines && result.lines.length > 0) {
    console.log(chalk.red(`${result.desc}失败`))
    for (const errorLine of result.lines) {
      console.log(chalk.red(`  > ${errorLine.desc}`))
      console.log(chalk.blue(`  >> ${errorLine.solution}`))
    }
  } else {
    console.log(chalk.green(`${result.desc}成功`))
  }
}
